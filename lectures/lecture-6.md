# Лекция 6

### Метод многофазного чтения

- Реализация чтения через легковесные потоки (не нужно переключение контекста)
- Реализация, например, через корутины

### Проблемы сложности параллельного кода

Гетерогенная архитектура - архитектура, при которой один из вычислителей не является универсальным ядром (FPGA, ASIC,
т.д.)

Высокопроизводительные вычисления (HPCS):

- Соревнование между компаниями
  - IBM - PERCS
  - SUN - Fortress
  - Cray (Cascade, Chapel, Lustre)
  - Иногда относят Fortran

### Проблемы надёжности

- Больше ядер - более выгодно энергетически
- Больше ядер - меньше надёжность:
  - P1 = 0.999999
  - P100 = 0.9999
  - P1000 = 0.999
  - P1000000 = 0.367879
  - ...
- Решение - изменить парадигму
  - Дублирование/системы контроля результатов(мажоритарное голосование/т.д.)?
  - Fuzzy logic, как в природе (часть вычислений - со сбоями, это известно)?

Распределённые вычисления могут использоваться на добровольной основе.

При нахождении новой компонентной базы:

- Число вычислителей сократится (лучше качество ПО, дешевле электроника)
- Число вычислителей то же (сильный скачок в производительности)

### Введение в многоязыковое программирование

MLP - процесс разработки ПО, при котором код написан на 2+ языках программирования.

Используется при совмещении задач:

- В системном программировании (ОС/драйвер/компоненты систем программирования/т.д.) (С/С++/Rust)
- При параллельной обработке данных (векторизация, регулярное программирование) (fortran)
- Фронтэнд (время выхода на рынок, привлечение непрограммистов - e.g. граф.дизайнеров) (Javascript)
- Вычисления с ПЗ (точность, скорость работы) (C, Fortran)
- Встраиваемые системы (системы реального времени, авионика, космонавтика - высокая цена ошибки) (ADA, C++ с
  ограничениями)
- Поддержка корпоративной инфраструктуры (Java)
- Работа с сетью (~=системное ПО)

При использовании MLP возможно использование унаследованного кода.

Двоичный интерфейс приложений (ABI) - набор соглашений для доступа к ОС и к архитектуре набора команд.

Embedded ABI - набор ABI для использования во встраиваемых системах.

Компилятор, поддерживающий ABI, в результате компоновки может создать объектный файл А, который будет компоноваться
всеми компоновщиками, поддерживающими тот же ABI.

ABI определяет:

- Форматы файлов(текстовый, архив, двоичный, т.д.)
- Работа с ресурсами (e.g. стек)
- Соглашение о вызове
- Соглашения по именам
- Pass by value/reference/reference+protection
- Эквивалентные типы данных/структур
